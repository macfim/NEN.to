import{L as x,r as k,z as L,v as R,j as e,B as F,m as T,E as l,d as a,S as j,I as q,T as m,a9 as B,aa as D}from"./index.70bdfec4.js";import{a as E,F as p,b as h,I as g}from"./useMutation.esm.642220f8.js";import{B as f}from"./index.esm.21a08c77.js";import"./utils.esm.b5f12d9d.js";const I=async n=>(await x.post("/users",n)).data,v={username:"",password:""},A=({setToken:n,setUserUsername:c})=>{const[o,u]=k.exports.useState(v),y=L(),i=R(),{mutate:C,isLoading:S}=E({mutationFn:I,onSuccess:()=>{n(null),c(null),i({title:"Account Created.",description:"We've created your account for you.",status:"success",duration:9e3,isClosable:!0,position:"top-left"}),y("/auth/login"),u(v)},onError:s=>{const t={title:"Something Wrong",status:"error",duration:9e3,isClosable:!0,position:"top-left"};if(s.response.data.error)return i({...t,description:s.response.data.error});i({...t,description:s.message})}}),b=s=>{s.preventDefault();const{username:t,password:r}=o;if(!t||!r)return alert("username or/and password are blank");C({username:t,password:r})},d=s=>{const t=s.target.name,r=s.target.value;u(w=>({...w,[t]:r}))};return e(F,{as:T.div,initial:{opacity:0},animate:{opacity:1},minH:"100vh",children:e("form",{onSubmit:b,children:e(l,{px:"1rem",py:"1.5rem",w:"23rem",children:a(j,{spacing:"1rem",children:[a(l,{pb:"1rem",children:[e(q,{as:"h2",size:"lg",children:"Here you can Register"}),e(m,{children:"Let's join us"})]}),a(p,{isRequired:!0,children:[e(h,{children:"Username"}),e(g,{name:"username",value:o.username,onChange:d,required:!0,autoFocus:!0})]}),a(p,{isRequired:!0,children:[e(h,{children:"Password"}),e(g,{name:"password",type:"password",value:o.password,onChange:d,required:!0})]}),e(f,{type:"submit",colorScheme:"linkedin",isLoading:S,loadingText:"registering...",children:"REGISTER"}),e(B,{}),a(m,{children:[e("span",{style:{opacity:"0.5"},children:"Don't have an account ?"})," ",e(f,{colorScheme:"linkedin",variant:"link",children:e(D,{to:"/auth/login",children:"Login"})})]})]})})})})};export{A as default};
